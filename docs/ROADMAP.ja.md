# Zylix ロードマップ - v0.1.x 以降

> **最終更新**: 2024-12-21
> **現在のバージョン**: v0.1.0

---

## 概要

本ドキュメントは、v0.1.0以降のZylixフレームワーク開発ロードマップを記載しています。各フェーズは特定のバージョンマイルストーンに対応し、明確な成果物と成功基準を定義しています。

### ロードマップ概要

| バージョン | フェーズ | 主要機能 | ステータス | 目標時期 |
|-----------|---------|---------|----------|---------|
| v0.1.0 | 完了 | 基盤構築 & 6プラットフォーム対応 | ✅ 完了 | - |
| v0.2.0 | Phase 6 | コンポーネントライブラリの拡充 | ⏳ 計画中 | 2025年Q1 |
| v0.3.0 | Phase 7 | ルーティングシステム | ⏳ 計画中 | 2025年Q2 |
| v0.4.0 | Phase 8 | 非同期処理のサポート | ⏳ 計画中 | 2025年Q2 |
| v0.5.0 | Phase 9 | Hot Reload（開発時） | ⏳ 計画中 | 2025年Q3 |
| v0.6.0 | Phase 10 | より実用的なサンプルアプリ | ⏳ 計画中 | 2025年Q3 |

---

## Phase 6: コンポーネントライブラリの拡充 (v0.2.0)

### 概要

現在の9種類の基本コンポーネントを、全プラットフォームで一般的なユースケースをカバーする包括的なUIコンポーネントライブラリに拡張します。

### 現在の状態 (v0.1.0)

```
基本コンポーネント（9種類）:
├── container   - div的なコンテナ
├── text        - テキスト/span要素
├── button      - クリック可能なボタン
├── input       - テキスト入力フィールド
├── image       - 画像要素
├── link        - アンカーリンク
├── list        - ul/olリスト
├── list_item   - li項目
├── heading     - h1-h6
└── paragraph   - p要素
```

### 追加予定コンポーネント

#### 6.1 フォームコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `select` | ドロップダウン/ピッカー | P0 | モバイルではネイティブピッカー |
| `checkbox` | ブール値トグル | P0 | ネイティブスタイル |
| `radio` | グループから単一選択 | P0 | ネイティブスタイル |
| `textarea` | 複数行テキスト入力 | P0 | - |
| `switch` | トグルスイッチ | P1 | 全プラットフォームでiOS風 |
| `slider` | レンジ入力 | P1 | ネイティブレンジコントロール |
| `date_picker` | 日付選択 | P1 | ネイティブ日付ピッカー |
| `time_picker` | 時刻選択 | P1 | ネイティブ時刻ピッカー |
| `file_input` | ファイル選択 | P2 | プラットフォームファイルダイアログ |
| `color_picker` | 色選択 | P2 | - |
| `form` | バリデーション付きフォームコンテナ | P0 | - |

#### 6.2 レイアウトコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `stack` | 縦/横スタック | P0 | SwiftUI VStack/HStack |
| `grid` | CSSグリッド風レイアウト | P0 | LazyVGrid/LazyHGrid |
| `scroll_view` | スクロール可能コンテナ | P0 | ネイティブスクロールビュー |
| `spacer` | 柔軟なスペース | P0 | SwiftUI Spacer |
| `divider` | 視覚的区切り | P1 | - |
| `card` | 影付きカードコンテナ | P1 | - |
| `aspect_ratio` | 固定アスペクト比コンテナ | P1 | - |
| `safe_area` | セーフエリアインセット | P1 | iOSノッチ、Androidカットアウト |

#### 6.3 ナビゲーションコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `nav_bar` | ナビゲーションバー | P0 | UINavigationBar, Toolbar |
| `tab_bar` | タブナビゲーション | P0 | UITabBar, BottomNavigation |
| `drawer` | サイドドロワー/メニュー | P1 | NavigationDrawer |
| `breadcrumb` | パンくずナビゲーション | P2 | Web向け |
| `pagination` | ページナビゲーション | P2 | - |

#### 6.4 フィードバックコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `alert` | アラートダイアログ | P0 | ネイティブアラート |
| `toast` | トースト通知 | P0 | SnackBar, Toast |
| `modal` | モーダルダイアログ | P0 | Sheet, Dialog |
| `progress` | プログレスインジケーター | P1 | 線形/円形 |
| `spinner` | ローディングスピナー | P1 | ActivityIndicator |
| `skeleton` | ローディングプレースホルダー | P2 | - |
| `badge` | 通知バッジ | P1 | - |

#### 6.5 データ表示コンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `table` | データテーブル | P1 | - |
| `avatar` | ユーザーアバター | P1 | - |
| `icon` | アイコンコンポーネント | P0 | SF Symbols, Material Icons |
| `tag` | ラベル/タグ | P1 | Chip |
| `tooltip` | ホバーツールチップ | P2 | Web向け |
| `accordion` | 展開可能セクション | P1 | DisclosureGroup |
| `carousel` | 画像カルーセル | P2 | - |

### 成功基準

- [ ] Zigコアで30種類以上のコンポーネント型を実装
- [ ] 全6プラットフォームで全P0コンポーネントが動作
- [ ] 例を含むコンポーネントドキュメント
- [ ] コンポーネントのビジュアルリグレッションテスト
- [ ] アクセシビリティサポート（ARIA、VoiceOver、TalkBack）

---

## Phase 7: ルーティングシステム (v0.3.0)

### 概要

各プラットフォームのナビゲーションパラダイムを尊重しながら、ナビゲーション、ディープリンク、URL管理を処理するクロスプラットフォームルーティングシステムを実装します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                    Zylix Router (Zig Core)                  │
├─────────────────────────────────────────────────────────────┤
│  ルート定義        │  ルートマッチング  │  ナビゲーション状態  │
│  - パスパターン    │  - URL解析        │  - 履歴スタック      │
│  - パラメータ      │  - ワイルドカード  │  - 現在のルート      │
│  - ガード         │  - 正規表現       │  - パラメータ        │
└─────────────────────────────────────────────────────────────┘
                              │
                         C ABIレイヤー
                              │
     ┌────────────┬───────────┼───────────┬────────────┐
     ▼            ▼           ▼           ▼            ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│   iOS   │ │ Android │ │ Windows │ │  Linux  │ │   Web   │
│ NavStack│ │NavCompose│ │ NavView │ │GtkStack │ │History  │
└─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘
```

### 主要機能

#### 7.1 ルート定義

```zig
pub const Route = struct {
    path: []const u8,           // "/users/:id/posts"
    component_id: u32,          // このルートのルートコンポーネント
    title: ?[]const u8,         // ページタイトル
    meta: RouteMeta,            // メタデータ
    guards: []const RouteGuard, // ナビゲーションガード
    children: []const Route,    // ネストされたルート
};
```

### プラットフォーム統合

| プラットフォーム | ナビゲーション方式 | ディープリンク対応 |
|--------------|-----------------|-----------------|
| iOS | NavigationStack + path | Universal Links |
| Android | Navigation Compose | App Links |
| macOS | NavigationSplitView | カスタムURLスキーム |
| Windows | フレームナビゲーション | プロトコルハンドラー |
| Linux | GtkStack切り替え | D-Busアクティベーション |
| Web | History API | URLルーティング |

### 成功基準

- [ ] パスパターンとパラメータ付きルート定義
- [ ] 戻る/進むサポート付きナビゲーション履歴
- [ ] 全6プラットフォームでディープリンク
- [ ] 認証用ルートガード
- [ ] ネストされたルートサポート
- [ ] クエリ文字列処理

---

## Phase 8: 非同期処理のサポート (v0.4.0)

### 概要

C ABI互換性を維持しながら、HTTPリクエスト、ファイルI/O、バックグラウンドタスクなどの非同期操作を処理するためのasync/awaitスタイルパターンをZigで実装します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                  Zylix Async Runtime (Zig Core)             │
├─────────────────────────────────────────────────────────────┤
│   タスクキュー    │   Promise/Future  │   エグゼキュータプール │
│   - 優先度       │   - 状態マシン     │   - スレッドプール    │
│   - キャンセル   │   - チェーン      │   - ワークスティーリング│
│   - タイムアウト │   - エラー処理    │   - ロードバランシング │
└─────────────────────────────────────────────────────────────┘
```

### 主要機能

#### 8.1 Future/Promiseパターン

```zig
pub fn Future(comptime T: type) type {
    return struct {
        const Self = @This();

        state: enum { pending, resolved, rejected },
        value: ?T,
        error_info: ?ErrorInfo,

        pub fn then(self: *Self, callback: *const fn (T) void) *Self;
        pub fn catch(self: *Self, callback: *const fn (ErrorInfo) void) *Self;
        pub fn await(self: *Self) !T;
        pub fn cancel(self: *Self) void;
    };
}
```

#### 8.2 HTTPクライアント

```zig
pub const HttpClient = struct {
    pub fn get(url: []const u8) *Future(Response);
    pub fn post(url: []const u8, body: []const u8) *Future(Response);
    pub fn put(url: []const u8, body: []const u8) *Future(Response);
    pub fn delete(url: []const u8) *Future(Response);
};
```

### 成功基準

- [ ] チェーン付きFuture/Promiseパターン
- [ ] HTTP GET/POST/PUT/DELETEサポート
- [ ] JSONレスポンス解析
- [ ] バックグラウンドタスクスケジューリング
- [ ] キャンセルとタイムアウトサポート
- [ ] 適切な伝播を伴うエラー処理

---

## Phase 9: Hot Reload（開発時） (v0.5.0)

### 概要

フルリビルドサイクルなしで高速なイテレーションを可能にする開発用ホットリロード機能を実装します。コード更新中もアプリケーション状態を維持します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                    開発サーバー                              │
├─────────────────────────────────────────────────────────────┤
│  ファイル監視    │   ビルドパイプライン  │   状態スナップショット │
│  - inotify      │   - インクリメンタル   │   - シリアライズ      │
│  - FSEvents     │   - 高速コンパイル    │   - リストア          │
│  - ReadDirChangesW│  - ホットパッチ     │   - 差分マージ        │
└─────────────────────────────────────────────────────────────┘
```

### CLIコマンド

```bash
# ホットリロード付き開発サーバー起動
zylix dev --platform web --port 3000

# iOSシミュレーター用監視とリビルド
zylix dev --platform ios-sim --hot

# 全プラットフォーム対応開発サーバー
zylix dev --all --port 3000
```

### 成功基準

- [ ] ファイル変更検出 < 100ms
- [ ] 小さな変更のインクリメンタルリビルド < 1秒
- [ ] リロード間での状態保持
- [ ] ソースマッピング付きエラーオーバーレイ
- [ ] 開発モードで全6プラットフォームで動作

---

## Phase 10: より実用的なサンプルアプリ (v0.6.0)

### 概要

全プラットフォームでZylixの実際の使用法を示す包括的なサンプルアプリケーションを作成し、ドキュメントと開発者向けテンプレートの両方として機能させます。

### サンプルアプリケーション

#### 10.1 拡張Todoアプリ（初級）

**現在**: 追加/削除機能付き基本的なTodoリスト
**拡張版**:
- カテゴリとタグ
- 通知付き期日
- 検索とフィルター
- クラウド同期（オプション）
- オフラインサポート
- ダーク/ライトテーマ

#### 10.2 ECアプリ（中級）

**機能**:
- 検索付き商品カタログ
- カテゴリナビゲーション
- ショッピングカート
- ユーザー認証
- 注文履歴
- 決済連携（モック）

#### 10.3 ダッシュボードアプリ（中級）

**機能**:
- リアルタイムデータ可視化
- チャートとグラフ
- ソート/フィルター付きデータテーブル
- CSV/PDFエクスポート
- ユーザー設定
- レスポンシブレイアウト

#### 10.4 チャットアプリ（上級）

**機能**:
- リアルタイムメッセージング
- ユーザープレゼンス
- メッセージ履歴
- ファイル添付
- プッシュ通知
- エンドツーエンド暗号化（オプション）

#### 10.5 メモアプリ（上級）

**機能**:
- リッチテキスト編集
- Markdownサポート
- フォルダ整理
- 全文検索
- クラウド同期
- 共有/エクスポート

### 成功基準

- [ ] 全5つのサンプルアプリが全プラットフォームで機能
- [ ] 各アプリの包括的なドキュメント
- [ ] ステップバイステップのチュートリアル
- [ ] パターンを説明するコードコメント
- [ ] パフォーマンスベンチマーク

---

## バージョン概要

### v0.2.0 - コンポーネントライブラリの拡充
- 30種類以上のコンポーネント
- フォーム、レイアウト、ナビゲーション、フィードバック、データ表示
- プラットフォームネイティブ実装
- アクセシビリティサポート

### v0.3.0 - ルーティングシステム
- URLベースルーティング
- ナビゲーション履歴
- ディープリンク
- ルートガード

### v0.4.0 - 非同期処理
- Future/Promiseパターン
- HTTPクライアント
- バックグラウンドタスク
- WebSocketサポート

### v0.5.0 - Hot Reload
- ファイル監視
- インクリメンタルビルド
- 状態保持
- 開発サーバー

### v0.6.0 - サンプルアプリケーション
- 5つの包括的な例
- 実世界のパターン
- チュートリアルとドキュメント

---

## コントリビュート

Zylix開発への貢献ガイドラインは[CONTRIBUTING.md](../CONTRIBUTING.md)を参照してください。

## 参考資料

- [現在のPLAN.md](./PLAN.md) - 元のプロジェクト計画
- [ARCHITECTURE.md](./ARCHITECTURE.md) - システムアーキテクチャ
- [ABI.md](./ABI.md) - C ABI仕様
- [ROADMAP.md](./ROADMAP.md) - 英語版ロードマップ
