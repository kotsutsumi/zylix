# Zylix ロードマップ

> **最終更新**: 2025-12-23
> **現在のバージョン**: v0.8.1

---

## 概要

本ドキュメントは、Zylixフレームワーク開発ロードマップを記載しています。各フェーズは特定のバージョンマイルストーンに対応し、明確な成果物と成功基準を定義しています。

### ロードマップ概要

| バージョン | フェーズ | 主要機能 | ステータス | リリース日 |
|-----------|---------|---------|----------|----------|
| v0.1.0 | Phase 1-5 | 基盤構築 & 6プラットフォーム対応 | ✅ 完了 | 2025-12-21 |
| v0.5.0 | - | GitHub設定 & ドキュメント | ✅ 完了 | 2025-12-21 |
| v0.6.0 | Phase 7-10 | Router, Async, Hot Reload, サンプル | ✅ 完了 | 2025-12-21 |
| v0.6.1 | - | サンプルアプリのセキュリティ修正 | ✅ 完了 | 2025-12-21 |
| v0.6.2 | - | プラットフォームセキュリティ & 並行処理修正 | ✅ 完了 | 2025-12-21 |
| v0.6.3 | - | プラットフォームデモ (iOS, Android) | ✅ 完了 | 2025-12-22 |
| v0.7.0 | Phase 6 | コンポーネントライブラリの拡充 | ✅ 完了 | 2025-12-22 |
| v0.8.1 | Phase 11a | watchOS対応, 言語バインディング, CI/CD, E2Eテスト | ✅ 完了 | 2025-12-23 |
| v0.9.0 | Phase 11b | 組み込みAI (Zylix AI) | ⏳ 計画中 | 2026年Q1 |
| v0.10.0 | Phase 12 | デバイス機能 & ジェスチャー | ⏳ 計画中 | 2026年Q2 |
| v0.11.0 | - | パフォーマンス & 最適化 | ⏳ 計画中 | 2026年Q3 |
| v0.12.0 | - | ドキュメント充実 | ⏳ 計画中 | 2026年Q4 |
| v0.13.0 | Phase 13 | アニメーション (Lottie, Live2D) | ⏳ 計画中 | 2027年Q1 |
| v0.14.0 | Phase 14 | 3Dグラフィックス (Three.js風) | ⏳ 計画中 | 2027年Q2 |
| v0.15.0 | Phase 15 | ゲーム開発 (PIXI.js風, 物理エンジン, オーディオ) | ⏳ 計画中 | 2027年Q3 |
| v0.16.0 | Phase 16 | ノードベースUI (React Flow風) | ⏳ 計画中 | 2027年Q4 |
| v0.17.0 | Phase 17 | PDFサポート (生成・読み込み・編集) | ⏳ 計画中 | 2028年Q1 |
| v0.18.0 | Phase 18 | Excelサポート (xlsx読み書き) | ⏳ 計画中 | 2028年Q2 |
| v0.19.0 | Phase 19 | データベース (PostgreSQL, MySQL, SQLite, libSQL) | ⏳ 計画中 | 2028年Q3 |
| v0.20.0 | Phase 20 | サーバーランタイム (Zylix Server) | ⏳ 計画中 | 2028年Q4 |
| v0.21.0 | Phase 21 | エッジアダプター (Cloudflare, Vercel, AWS) | ⏳ 計画中 | 2029年Q1 |

---

## Phase 6: コンポーネントライブラリの拡充 (v0.7.0) ✅ 完了

### 概要

現在の9種類の基本コンポーネントを、全プラットフォームで一般的なユースケースをカバーする包括的なUIコンポーネントライブラリに拡張します。

### 現在の状態 (v0.7.0)

```
コンポーネント（40種類以上）:
├── 基本コンポーネント（10種類）
│   ├── container   - div的なコンテナ
│   ├── text        - テキスト/span要素
│   ├── button      - クリック可能なボタン
│   ├── input       - テキスト入力フィールド
│   ├── image       - 画像要素
│   ├── link        - アンカーリンク
│   ├── list        - ul/olリスト
│   ├── list_item   - li項目
│   ├── heading     - h1-h6
│   └── paragraph   - p要素
│
├── フォームコンポーネント（7種類） ✅ 実装済み
│   ├── select        - ドロップダウン
│   ├── checkbox      - チェックボックス
│   ├── radio         - ラジオボタン
│   ├── textarea      - 複数行テキスト
│   ├── toggle_switch - トグルスイッチ
│   ├── slider        - スライダー
│   └── form          - フォームコンテナ
│
├── レイアウトコンポーネント（8種類） ✅ 実装済み
│   ├── vstack      - 縦スタック
│   ├── hstack      - 横スタック
│   ├── zstack      - 重ねスタック
│   ├── grid        - グリッドレイアウト
│   ├── scroll_view - スクロールビュー
│   ├── spacer      - スペーサー
│   ├── divider     - 区切り線
│   └── card        - カードコンテナ
│
├── ナビゲーションコンポーネント（2種類） ✅ 実装済み
│   ├── nav_bar  - ナビゲーションバー
│   └── tab_bar  - タブバー
│
├── フィードバックコンポーネント（5種類） ✅ 実装済み
│   ├── alert    - アラート
│   ├── toast    - トースト通知
│   ├── modal    - モーダル
│   ├── progress - プログレス
│   └── spinner  - スピナー
│
└── データ表示コンポーネント（5種類） ✅ 実装済み
    ├── icon      - アイコン
    ├── avatar    - アバター
    ├── tag       - タグ
    ├── badge     - バッジ
    └── accordion - アコーディオン
```

### 実装完了

- ✅ Zigコアでのコンポーネント定義 (`core/src/component.zig`)
- ✅ WASM exports (`core/src/wasm.zig`)
- ✅ JavaScript bindings (`packages/zylix/src/component.js`)
- ✅ component-showcase サンプルアプリ (`samples/component-showcase/`)
- ✅ Playwright E2Eテスト

### 追加予定コンポーネント

#### 6.1 フォームコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `select` | ドロップダウン/ピッカー | P0 | モバイルではネイティブピッカー |
| `checkbox` | ブール値トグル | P0 | ネイティブスタイル |
| `radio` | グループから単一選択 | P0 | ネイティブスタイル |
| `textarea` | 複数行テキスト入力 | P0 | - |
| `switch` | トグルスイッチ | P1 | 全プラットフォームでiOS風 |
| `slider` | レンジ入力 | P1 | ネイティブレンジコントロール |
| `date_picker` | 日付選択 | P1 | ネイティブ日付ピッカー |
| `time_picker` | 時刻選択 | P1 | ネイティブ時刻ピッカー |
| `file_input` | ファイル選択 | P2 | プラットフォームファイルダイアログ |
| `color_picker` | 色選択 | P2 | - |
| `form` | バリデーション付きフォームコンテナ | P0 | - |

#### 6.2 レイアウトコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `stack` | 縦/横スタック | P0 | SwiftUI VStack/HStack |
| `grid` | CSSグリッド風レイアウト | P0 | LazyVGrid/LazyHGrid |
| `scroll_view` | スクロール可能コンテナ | P0 | ネイティブスクロールビュー |
| `spacer` | 柔軟なスペース | P0 | SwiftUI Spacer |
| `divider` | 視覚的区切り | P1 | - |
| `card` | 影付きカードコンテナ | P1 | - |
| `aspect_ratio` | 固定アスペクト比コンテナ | P1 | - |
| `safe_area` | セーフエリアインセット | P1 | iOSノッチ、Androidカットアウト |

#### 6.3 ナビゲーションコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `nav_bar` | ナビゲーションバー | P0 | UINavigationBar, Toolbar |
| `tab_bar` | タブナビゲーション | P0 | UITabBar, BottomNavigation |
| `drawer` | サイドドロワー/メニュー | P1 | NavigationDrawer |
| `breadcrumb` | パンくずナビゲーション | P2 | Web向け |
| `pagination` | ページナビゲーション | P2 | - |

#### 6.4 フィードバックコンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `alert` | アラートダイアログ | P0 | ネイティブアラート |
| `toast` | トースト通知 | P0 | SnackBar, Toast |
| `modal` | モーダルダイアログ | P0 | Sheet, Dialog |
| `progress` | プログレスインジケーター | P1 | 線形/円形 |
| `spinner` | ローディングスピナー | P1 | ActivityIndicator |
| `skeleton` | ローディングプレースホルダー | P2 | - |
| `badge` | 通知バッジ | P1 | - |

#### 6.5 データ表示コンポーネント

| コンポーネント | 説明 | 優先度 | プラットフォーム備考 |
|--------------|------|-------|-------------------|
| `table` | データテーブル | P1 | - |
| `avatar` | ユーザーアバター | P1 | - |
| `icon` | アイコンコンポーネント | P0 | SF Symbols, Material Icons |
| `tag` | ラベル/タグ | P1 | Chip |
| `tooltip` | ホバーツールチップ | P2 | Web向け |
| `accordion` | 展開可能セクション | P1 | DisclosureGroup |
| `carousel` | 画像カルーセル | P2 | - |

### 成功基準

- [x] Zigコアで30種類以上のコンポーネント型を実装
- [x] Web/WASMプラットフォームで全P0コンポーネントが動作
- [x] 例を含むコンポーネントドキュメント（component-showcase）
- [x] コンポーネントのビジュアルリグレッションテスト
- [x] アクセシビリティサポート（ARIA、VoiceOver、TalkBack）
- [x] ネイティブプラットフォーム対応（iOS、Android、Windows）

---

## Phase 7: ルーティングシステム (v0.6.0) ✅ 完了

### 概要

各プラットフォームのナビゲーションパラダイムを尊重しながら、ナビゲーション、ディープリンク、URL管理を処理するクロスプラットフォームルーティングシステムを実装します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                    Zylix Router (Zig Core)                  │
├─────────────────────────────────────────────────────────────┤
│  ルート定義        │  ルートマッチング  │  ナビゲーション状態  │
│  - パスパターン    │  - URL解析        │  - 履歴スタック      │
│  - パラメータ      │  - ワイルドカード  │  - 現在のルート      │
│  - ガード         │  - 正規表現       │  - パラメータ        │
└─────────────────────────────────────────────────────────────┘
                              │
                         C ABIレイヤー
                              │
     ┌────────────┬───────────┼───────────┬────────────┐
     ▼            ▼           ▼           ▼            ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│   iOS   │ │ Android │ │ Windows │ │  Linux  │ │   Web   │
│ NavStack│ │NavCompose│ │ NavView │ │GtkStack │ │History  │
└─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘
```

### 主要機能

#### 7.1 ルート定義

```zig
pub const Route = struct {
    path: []const u8,           // "/users/:id/posts"
    component_id: u32,          // このルートのルートコンポーネント
    title: ?[]const u8,         // ページタイトル
    meta: RouteMeta,            // メタデータ
    guards: []const RouteGuard, // ナビゲーションガード
    children: []const Route,    // ネストされたルート
};
```

### プラットフォーム統合

| プラットフォーム | ナビゲーション方式 | ディープリンク対応 |
|--------------|-----------------|-----------------|
| iOS | NavigationStack + path | Universal Links |
| Android | Navigation Compose | App Links |
| macOS | NavigationSplitView | カスタムURLスキーム |
| Windows | フレームナビゲーション | プロトコルハンドラー |
| Linux | GtkStack切り替え | D-Busアクティベーション |
| Web | History API | URLルーティング |

### 成功基準

- [ ] パスパターンとパラメータ付きルート定義
- [ ] 戻る/進むサポート付きナビゲーション履歴
- [ ] 全6プラットフォームでディープリンク
- [ ] 認証用ルートガード
- [ ] ネストされたルートサポート
- [ ] クエリ文字列処理

---

## Phase 8: 非同期処理のサポート (v0.6.0) ✅ 完了

### 概要

C ABI互換性を維持しながら、HTTPリクエスト、ファイルI/O、バックグラウンドタスクなどの非同期操作を処理するためのasync/awaitスタイルパターンをZigで実装します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                  Zylix Async Runtime (Zig Core)             │
├─────────────────────────────────────────────────────────────┤
│   タスクキュー    │   Promise/Future  │   エグゼキュータプール │
│   - 優先度       │   - 状態マシン     │   - スレッドプール    │
│   - キャンセル   │   - チェーン      │   - ワークスティーリング│
│   - タイムアウト │   - エラー処理    │   - ロードバランシング │
└─────────────────────────────────────────────────────────────┘
```

### 主要機能

#### 8.1 Future/Promiseパターン

```zig
pub fn Future(comptime T: type) type {
    return struct {
        const Self = @This();

        state: enum { pending, resolved, rejected },
        value: ?T,
        error_info: ?ErrorInfo,

        pub fn then(self: *Self, callback: *const fn (T) void) *Self;
        pub fn catch(self: *Self, callback: *const fn (ErrorInfo) void) *Self;
        pub fn await(self: *Self) !T;
        pub fn cancel(self: *Self) void;
    };
}
```

#### 8.2 HTTPクライアント

```zig
pub const HttpClient = struct {
    pub fn get(url: []const u8) *Future(Response);
    pub fn post(url: []const u8, body: []const u8) *Future(Response);
    pub fn put(url: []const u8, body: []const u8) *Future(Response);
    pub fn delete(url: []const u8) *Future(Response);
};
```

### 成功基準

- [ ] チェーン付きFuture/Promiseパターン
- [ ] HTTP GET/POST/PUT/DELETEサポート
- [ ] JSONレスポンス解析
- [ ] バックグラウンドタスクスケジューリング
- [ ] キャンセルとタイムアウトサポート
- [ ] 適切な伝播を伴うエラー処理

---

## Phase 9: Hot Reload (v0.6.0) ✅ 完了

### 概要

フルリビルドサイクルなしで高速なイテレーションを可能にする開発用ホットリロード機能を実装します。コード更新中もアプリケーション状態を維持します。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────────────┐
│                    開発サーバー                              │
├─────────────────────────────────────────────────────────────┤
│  ファイル監視    │   ビルドパイプライン  │   状態スナップショット │
│  - inotify      │   - インクリメンタル   │   - シリアライズ      │
│  - FSEvents     │   - 高速コンパイル    │   - リストア          │
│  - ReadDirChangesW│  - ホットパッチ     │   - 差分マージ        │
└─────────────────────────────────────────────────────────────┘
```

### CLIコマンド

```bash
# ホットリロード付き開発サーバー起動
zylix dev --platform web --port 3000

# iOSシミュレーター用監視とリビルド
zylix dev --platform ios-sim --hot

# 全プラットフォーム対応開発サーバー
zylix dev --all --port 3000
```

### 成功基準

- [ ] ファイル変更検出 < 100ms
- [ ] 小さな変更のインクリメンタルリビルド < 1秒
- [ ] リロード間での状態保持
- [ ] ソースマッピング付きエラーオーバーレイ
- [ ] 開発モードで全6プラットフォームで動作

---

## Phase 10: サンプルアプリケーション (v0.6.0) ✅ 完了

### 概要

全プラットフォームでZylixの実際の使用法を示す包括的なサンプルアプリケーションを作成し、ドキュメントと開発者向けテンプレートの両方として機能させます。

### サンプルアプリケーション

#### 10.1 拡張Todoアプリ（初級）

**現在**: 追加/削除機能付き基本的なTodoリスト
**拡張版**:
- カテゴリとタグ
- 通知付き期日
- 検索とフィルター
- クラウド同期（オプション）
- オフラインサポート
- ダーク/ライトテーマ

#### 10.2 ECアプリ（中級）

**機能**:
- 検索付き商品カタログ
- カテゴリナビゲーション
- ショッピングカート
- ユーザー認証
- 注文履歴
- 決済連携（モック）

#### 10.3 ダッシュボードアプリ（中級）

**機能**:
- リアルタイムデータ可視化
- チャートとグラフ
- ソート/フィルター付きデータテーブル
- CSV/PDFエクスポート
- ユーザー設定
- レスポンシブレイアウト

#### 10.4 チャットアプリ（上級）

**機能**:
- リアルタイムメッセージング
- ユーザープレゼンス
- メッセージ履歴
- ファイル添付
- プッシュ通知
- エンドツーエンド暗号化（オプション）

#### 10.5 メモアプリ（上級）

**機能**:
- リッチテキスト編集
- Markdownサポート
- フォルダ整理
- 全文検索
- クラウド同期
- 共有/エクスポート

### 成功基準

- [ ] 全5つのサンプルアプリが全プラットフォームで機能
- [ ] 各アプリの包括的なドキュメント
- [ ] ステップバイステップのチュートリアル
- [ ] パターンを説明するコードコメント
- [ ] パフォーマンスベンチマーク

---

## Phase 11a: テスト基盤 & 言語バインディング (v0.8.1) ✅ 完了

### 概要

クロスプラットフォームE2Eテストフレームワーク、watchOS対応、TypeScript/Python言語バインディングを実装しました。

### 実装完了

#### 11a.1 watchOS サポート
- ✅ Apple Watch デバイスタイプ (Series 9/10, Ultra 2, SE)
- ✅ Digital Crown 回転操作
- ✅ サイドボタン (シングル/ダブルプレス)
- ✅ コンパニオンデバイス (ペアリング情報取得)
- ✅ watchOS シミュレータ対応

#### 11a.2 言語バインディング
- ✅ **TypeScript**: `@zylix/test` npm パッケージ
  - 全プラットフォームドライバー (Web, iOS, watchOS, Android, macOS)
  - 10種類のセレクター
  - 完全な型定義
  - ESM + CommonJS デュアルエクスポート
- ✅ **Python**: `zylix-test` PyPI パッケージ
  - async/await 対応
  - 全プラットフォームドライバー
  - mypy strict 対応型アノテーション
  - PEP 561 型付きパッケージ

#### 11a.3 CI/CD
- ✅ GitHub Actions ワークフロー
  - Core ビルド (Ubuntu, macOS, Windows)
  - iOS/watchOS ビルド (Swift)
  - Android ビルド (Kotlin/Gradle)
  - Windows ビルド (.NET 8.0)
  - Web テスト (Node.js 20)
  - ドキュメントビルド (Hugo)
- ✅ リリースワークフロー

#### 11a.4 E2E テスト
- ✅ E2E テストフレームワーク (`core/src/test/e2e/`)
- ✅ プラットフォーム別サンプルデモ (`samples/test-demos/`)

### 成功基準

- [x] watchOS Digital Crown/サイドボタン対応
- [x] TypeScript/Python 言語バインディング
- [x] 全6プラットフォームでの CI/CD
- [x] E2E テストフレームワーク
- [x] プラットフォーム別サンプルデモ

---

## Phase 11b: 組み込みAI - Zylix AI (v0.9.0)

### 概要

オンデバイスLLM/VLM推論を実現する組み込みAI機能を実装します。プライバシー保護とオフライン動作を重視します。

### 計画機能

#### 11b.1 埋め込みモデル
- Qwen3-Embedding-0.6B 統合
- Sentence Transformers サポート
- セマンティック検索

#### 11b.2 言語モデル
- Qwen3 シリーズ (0.6B-4B)
- Phi-3/Phi-4 mini モデル
- Gemma 2B/7B
- Llama 3.2 (1B/3B)

#### 11b.3 ビジョン言語モデル (VLM)
- Qwen2-VL
- LLaVA
- PaliGemma

#### 11b.4 プラットフォームバックエンド
- iOS: Core ML, Metal, Apple Intelligence API
- Android: ML Kit, NNAPI, TensorFlow Lite
- Web/WASM: WebGPU, ONNX.js, WebNN
- Desktop: GGML/llama.cpp, ONNX Runtime

### 成功基準

- [ ] オンデバイス推論 (iOS/Android/Desktop)
- [ ] セマンティック検索機能
- [ ] テキスト生成/補完
- [ ] 画像理解 (VLM)
- [ ] 音声文字起こし (Whisper)

---

## Phase 12: デバイス機能 & ジェスチャー (v0.10.0)

### 概要

パフォーマンスを最適化し、バンドルサイズを削減し、本番利用に向けてフレームワークを準備します。

### 計画機能

#### 12.1 パフォーマンス最適化
- Virtual DOM差分アルゴリズムの最適化
- メモリ割り当ての改善
- 遅延読み込みとコード分割
- 未使用コンポーネントのツリーシェイキング

#### 12.2 バンドルサイズ削減
- WASMバイナリの最適化
- プラットフォーム固有のデッドコード削除
- アセット圧縮と最適化

#### 12.3 本番機能
- エラーバウンダリコンポーネント
- クラッシュレポート統合
- アナリティクスフック
- A/Bテストサポート

#### 12.4 開発者体験
- CLI改善
- プロジェクトスキャフォールディングテンプレート
- IDEプラグイン（VSCode、IntelliJ）
- デバッグツール

### 成功基準

- [ ] WASMコアバンドル 100KB未満（gzip）
- [ ] 1000コンポーネントで16ms未満のレンダリング時間
- [ ] 本番対応のエラーハンドリング
- [ ] 完全なCLIツールチェーン
- [ ] IDE統合

---

## Phase 13: アニメーションシステム (v0.13.0)

### 概要

ベクターアニメーション（Lottie）とLive2Dキャラクターアニメーションをサポートする包括的なアニメーションシステムを実装します。

### 計画機能

#### 13.1 Lottie ベクターアニメーション
- [Lottie](https://lottiefiles.com/jp/what-is-lottie) アニメーション再生
- JSONベースのアニメーションフォーマット対応
- アニメーション制御API（再生、一時停止、シーク、ループ）
- アニメーションイベントとコールバック
- レスポンシブなスケーリングと変形
- プラットフォームネイティブ最適化
  - iOS: Core Animation / Lottie-ios
  - Android: Lottie-android
  - Web: lottie-web / Bodymovin
  - Desktop: クロスプラットフォーム Lottie レンダラー

#### 13.2 Live2D 統合
- [Cubism SDK](https://www.live2d.com/sdk/) 統合 (v5-r.4.1)
- Live2D モデルの読み込みとレンダリング
- モーション再生とブレンディング
- 表情システム
- 物理シミュレーション（髪、服）
- 視線追跡とリップシンク
- プラットフォーム固有バックエンド
  - iOS/macOS: Metal レンダラー
  - Android: OpenGL ES レンダラー
  - Windows: DirectX/OpenGL レンダラー
  - Web: WebGL レンダラー

> **ライセンス要件**: Live2D Cubism SDKは[Live2D Proprietary Software License](https://www.live2d.com/terms/live2d-proprietary-software-license-agreement/)に基づき、再配布に制限があります。Cubism SDKを使用したコンテンツの商用リリースには、[SDK出版許諾契約](https://www.live2d.com/terms/publication-license-agreement/)への同意と関連する支払いが必要です。配布前のライセンスに関するお問い合わせは[Live2D](https://www.live2d.com/contact/)までご連絡ください。

#### 13.3 アニメーションユーティリティ
- タイムラインベースのアニメーションシーケンス
- イージング関数ライブラリ
- アニメーションステートマシン
- アニメーション間のトランジション効果
- パフォーマンスプロファイリングツール

### 成功基準

- [ ] 全プラットフォームでLottieアニメーション再生可能
- [ ] Live2Dモデルが正しくレンダリング
- [ ] 複雑なアニメーションで16ms未満のフレーム時間
- [ ] アニメーションイベントシステムが機能
- [ ] 包括的なアニメーションAPIドキュメント

---

## Phase 14: 3Dグラフィックスエンジン (v0.14.0)

### 概要

[Three.js](https://github.com/mrdoob/three.js) と [Babylon.js](https://github.com/BabylonJS/Babylon.js) にインスパイアされた、ハードウェアアクセラレーション対応の3Dグラフィックスエンジンを実装します。

### 計画機能

#### 14.1 コア3Dエンジン
- シーングラフ管理
- カメラシステム（透視投影、正投影）
- ライティング（アンビエント、ディレクショナル、ポイント、スポット）
- マテリアルとシェーダー
- メッシュジオメトリプリミティブ
- 3Dモデル読み込み（glTF、OBJ、FBX）
- テクスチャマッピングとUV座標

#### 14.2 レンダリングパイプライン
- プラットフォームネイティブレンダリングバックエンド
  - iOS/macOS: Metal
  - Android: Vulkan / OpenGL ES
  - Windows: DirectX 12 / Vulkan
  - Linux: Vulkan / OpenGL
  - Web: WebGL 2.0 / WebGPU
- ディファードレンダリング
- シャドウマッピング
- ポストプロセスエフェクト
- アンチエイリアス（MSAA、FXAA、TAA）

#### 14.3 高度な機能
- スケルタルアニメーション
- パーティクルシステム
- 物理統合（衝突検出）
- レイキャスティングとピッキング
- Level of Detail (LOD)
- インスタンスレンダリング
- オクルージョンカリング

#### 14.4 開発者ツール
- 3Dシーンインスペクター
- パフォーマンスプロファイラー
- シェーダーエディター
- アセットインポートパイプライン

### 成功基準

- [ ] 全プラットフォームで3Dシーンがレンダリング
- [ ] glTFモデル読み込み機能
- [ ] 中程度の複雑さのシーンで60fps
- [ ] ライティングとシャドウが動作
- [ ] 完全な3D APIドキュメント

---

## Phase 15: ゲーム開発プラットフォーム (v0.15.0)

### 概要

[PIXI.js](https://github.com/pixijs/pixijs) にインスパイアされた包括的なゲーム開発プラットフォーム。[Matter.js](https://github.com/liabru/matter-js) ベースの物理エンジンと、効果音・BGM用の完全なオーディオシステムを内蔵します。

### 計画機能

#### 15.1 2Dゲームエンジン
- バッチング対応スプライトシステム
- テクスチャアトラスとスプライトシート
- タイルマップ（直交、等角、六角形）
- シーン管理
- 固定タイムステップのゲームループ
- 入力処理（キーボード、マウス、タッチ、ゲームパッド）
- 衝突検出（AABB、円、ポリゴン）

#### 15.2 物理エンジン
- 剛体力学（Matter.jsインスパイア）
- 衝突検出と応答
- 制約とジョイント
  - 距離、回転、プリズマティック、溶接
- 力と衝撃
- 重力と摩擦
- スリーピングボディ最適化
- 連続衝突検出（CCD）
- 物理デバッグレンダラー

#### 15.3 オーディオシステム
- 効果音再生
  - ワンショットサウンド
  - ループサウンド
  - 位置オーディオ（2D/3D）
- BGM（バックグラウンドミュージック）
  - 大容量ファイルのストリーミング再生
  - トラック間のクロスフェード
  - プレイリストサポート
- オーディオ制御
  - ボリューム制御（マスター、音楽、SFX）
  - ピッチと速度調整
  - フェードイン/アウト
  - ダッキング（会話中の音楽低減）
- オーディオフォーマット
  - MP3、OGG、WAV、AAC
  - プラットフォームネイティブコーデック
- プラットフォームバックエンド
  - iOS: AVAudioEngine
  - Android: AudioTrack / Oboe
  - Web: Web Audio API
  - Desktop: OpenAL / miniaudio

#### 15.4 ゲームユーティリティ
- Entity-Component-System (ECS) アーキテクチャ
- オブジェクトプーリング
- ゲーム状態用ステートマシン
- トゥイーンライブラリ
- パーティクルエフェクト（2D）
- カメラシステム（追従、シェイク、ズーム）
- ゲーム状態のセーブ/ロード
- 実績システム

### 成功基準

- [ ] 60fpsで2Dゲームレンダリング
- [ ] 物理シミュレーションが安定かつ正確
- [ ] 全プラットフォームでオーディオ再生
- [ ] 完全なゲーム開発チュートリアル
- [ ] 機能を実証するサンプルゲーム

---

## Phase 16: ノードベースUI (v0.16.0)

### 概要

[React Flow](https://reactflow.dev/) にインスパイアされたノードベースUIコンポーネント。ビジュアルワークフローエディタ、マインドマップ、データフロー図などを構築できます。

### 計画機能

#### 16.1 コアノードシステム
- ノードコンポーネント
  - カスタマイズ可能なノード形状
  - 入力/出力ハンドル（ポート）
  - ドラッグ＆ドロップ配置
  - ノードリサイズとグループ化
- エッジ（接続線）
  - 直線、ベジェ曲線、ステップ接続
  - アニメーション付きエッジ
  - カスタムラベルとスタイル
  - エッジの動的生成

#### 16.2 キャンバス機能
- インタラクティブキャンバス
  - パン（ドラッグでスクロール）
  - ズーム（ピンチ/スクロール）
  - ミニマップ表示
  - グリッドスナップ
- 選択と操作
  - 複数選択（矩形選択、Shift+クリック）
  - カット/コピー/ペースト
  - 元に戻す/やり直し
  - キーボードショートカット

#### 16.3 データフロー
- ノード間データ転送
- 計算グラフの実行
- リアクティブな更新伝播
- カスタムノードタイプ定義

### 成功基準

- [ ] 滑らかなパン/ズーム操作（60fps）
- [ ] 1000ノード以上のスケーラビリティ
- [ ] 直感的なノード接続体験
- [ ] ワークフローエディタのサンプルアプリ

---

## Phase 17: PDFサポート (v0.17.0)

### 概要

[pdf-nano](https://github.com/GregorBudweiser/pdf-nano) にインスパイアされたPDF処理機能。PDF生成、読み込み、編集をサポートします。

### 計画機能

#### 17.1 PDF生成
- 文書構造
  - ページ追加と管理
  - ページサイズと向き設定
  - 余白とレイアウト
- コンテンツ埋め込み
  - テキスト（フォント、サイズ、色）
  - 画像（JPEG、PNG、SVG）
  - 図形（線、矩形、円、パス）
  - テーブルとリスト
- フォント対応
  - 標準14フォント
  - TrueType/OpenTypeフォント埋め込み
  - 日本語フォント対応

#### 17.2 PDF読み込み
- PDF解析
  - テキスト抽出
  - 画像抽出
  - メタデータ取得
  - ページ情報取得
- コンテンツアクセス
  - ページごとのコンテンツストリーム
  - フォーム フィールド読み込み
  - 注釈の取得

#### 17.3 PDF編集
- ページ操作
  - ページの追加/削除/並べ替え
  - PDF結合/分割
  - ページの回転
- コンテンツ変更
  - テキスト注釈追加
  - スタンプ/ウォーターマーク
  - フォームフィールド入力

### 成功基準

- [ ] 高品質なPDF出力
- [ ] 全プラットフォームでの読み書き動作
- [ ] 日本語テキストの正確な表示
- [ ] PDFビューア/エディタのサンプルアプリ

---

## Phase 18: Excelサポート (v0.18.0)

### 概要

[libxlsxwriter](https://github.com/jmcnamara/libxlsxwriter) / [zig-xlsxwriter](https://github.com/kassane/zig-xlsxwriter) にインスパイアされたExcelファイル（xlsx）処理機能。

### 計画機能

#### 18.1 xlsx生成
- ワークブック/ワークシート
  - 複数シート対応
  - シート名とタブ色
  - 表示/非表示設定
- セル操作
  - 文字列、数値、日付、真偽値
  - 数式（計算式）
  - ハイパーリンク
  - セル結合
- 書式設定
  - フォント（サイズ、色、スタイル）
  - 塗りつぶし（パターン、グラデーション）
  - 罫線（スタイル、色）
  - 数値フォーマット
  - 条件付き書式

#### 18.2 xlsx読み込み
- ファイル解析
  - シート一覧取得
  - セル値の読み取り
  - 数式の取得
  - 書式情報の取得
- データ抽出
  - 範囲指定での一括取得
  - 名前付き範囲のサポート
  - テーブルデータの抽出

#### 18.3 高度な機能
- グラフ
  - 棒グラフ、折れ線グラフ、円グラフ
  - 散布図、エリアチャート
  - グラフのカスタマイズ
- 画像
  - 画像の挿入
  - 位置とサイズ調整
- データ検証
  - 入力規則（リスト、数値範囲）
  - エラーメッセージ

### 成功基準

- [ ] Microsoft Excelとの互換性
- [ ] 大量データの効率的な処理
- [ ] 日本語テキストの正確な表示
- [ ] スプレッドシートエディタのサンプルアプリ

---

## Phase 19: データベースサポート (v0.19.0)

### 概要

PostgreSQL、MySQL、SQLite、libSQL (Turso) をサポートする包括的なデータベース接続レイヤー。WASM を含むすべてのプラットフォームで統一された API を提供します。

### 計画機能

#### 19.1 接続管理
- コネクションプーリング
- 接続文字列パース
- SSL/TLS サポート
- 自動再接続
- トランザクション管理
- プリペアドステートメント

#### 19.2 PostgreSQL サポート
- 完全なプロトコル実装
- 全データ型サポート
- LISTEN/NOTIFY
- COPY 操作
- 配列型
- JSON/JSONB 操作

#### 19.3 MySQL サポート
- MySQL プロトコル実装
- プリペアドステートメント
- 複数結果セット
- バイナリプロトコル
- 接続圧縮

#### 19.4 SQLite サポート
- 組み込み SQLite
- インメモリデータベース
- ファイルベースデータベース
- WAL モードサポート
- ユーザー定義関数
- 仮想テーブル

#### 19.5 libSQL / Turso サポート
- libSQL 組み込みモード
- Turso クラウド接続
- エッジ最適化クエリ
- 組み込みレプリカ
- HTTP API サポート

#### 19.6 クエリビルダー
- 型安全なクエリ構築
- コンパイル時 SQL 検証
- パラメータバインディング
- 結果マッピング
- マイグレーションサポート

### プラットフォーム実装

| プラットフォーム | PostgreSQL | MySQL | SQLite | libSQL |
|----------------|------------|-------|--------|--------|
| ネイティブ (iOS, Android, macOS, Linux, Windows) | TCP | TCP | 組み込み | 組み込み/HTTP |
| Web/WASM | HTTP プロキシ | HTTP プロキシ | OPFS | HTTP |
| エッジ (Cloudflare, Vercel) | TCP (Hyperdrive) | - | D1 | HTTP |

### 成功基準

- [ ] 4つのデータベースすべてに接続可能
- [ ] 型安全なクエリビルダー
- [ ] トランザクションサポート
- [ ] コネクションプーリング動作
- [ ] WASM でのデータベースアクセス（プロキシ経由）

---

## Phase 20: サーバーランタイム (v0.20.0)

### 概要

Zylix Server - Zig で API とフルスタックアプリケーションを構築するためのサーバーサイドランタイム。Hono.js にインスパイアされ、共有 Zig コードによるクライアント・サーバー間の型安全な RPC を提供します。

### 計画機能

#### 20.1 HTTP サーバー
- 高性能 HTTP/1.1 と HTTP/2
- リクエスト/レスポンス処理
- ミドルウェアサポート
- 静的ファイル配信
- WebSocket サポート
- Server-Sent Events

#### 20.2 ルーティング
- パスベースルーティング
- ルートパラメータ
- クエリ文字列パース
- ルートグループ
- ミドルウェアチェーン
- エラーハンドリング

```zig
const app = zylix.server();

app.get("/users", handlers.listUsers);
app.get("/users/:id", handlers.getUser);
app.post("/users", handlers.createUser);
app.group("/api/v1", apiRoutes);
```

#### 20.3 型安全な RPC
- 共有型定義（クライアント ↔ サーバー）
- TypeScript 自動生成
- コンパイル時ルート検証
- リクエスト/レスポンスのシリアライズ

```zig
// shared/api.zig
pub const API = struct {
    pub const getUsers = zylix.endpoint(.GET, "/users", void, []User);
    pub const createUser = zylix.endpoint(.POST, "/users", CreateUserReq, User);
};

// クライアント: const users = try client.call(API.getUsers, {});
// サーバー: router.handle(API.getUsers, handlers.getUsers);
```

#### 20.4 ミドルウェア
- リクエストログ
- CORS 処理
- 認証（JWT、セッション）
- レート制限
- 圧縮
- エラーハンドリング

#### 20.5 サーバーサイドレンダリング
- コンポーネントの HTML レンダリング
- ハイドレーションサポート
- ストリーミングレスポンス
- テンプレートサポート

#### 20.6 開発ツール
- サーバーコードのホットリロード
- リクエストインスペクター
- API ドキュメント生成
- OpenAPI/Swagger サポート

### アーキテクチャ

```
┌─────────────────────────────────────────┐
│           Zylix アプリケーション          │
├─────────────────────────────────────────┤
│  クライアント (WASM) │ サーバー (Zig Native) │
├─────────────────┴───────────────────────┤
│         共有型定義 (api.zig)             │
├─────────────────────────────────────────┤
│              RPC レイヤー                │
└─────────────────────────────────────────┘
```

### 成功基準

- [ ] ルーティング付き HTTP サーバー
- [ ] 型安全な RPC 動作
- [ ] ミドルウェアシステム
- [ ] データベース統合
- [ ] フルスタックサンプルアプリケーション

---

## Phase 21: エッジアダプター (v0.21.0)

### 概要

Zylix Server をエッジコンピューティングプラットフォームにデプロイ。Zig サーバーコードをエッジランタイム向け WASM にコンパイルし、Cloudflare Workers、Vercel Edge Functions、AWS Lambda、Deno Deploy 用のプラットフォーム固有アダプターを提供します。

### 計画機能

#### 21.1 Cloudflare Workers
- WASM ターゲットコンパイル
- Workers API バインディング
- KV ストレージ統合
- D1 データベースサポート
- Durable Objects
- R2 ストレージ
- Queues

```zig
// cloudflare/worker.zig
const zylix = @import("zylix-server");
const cf = @import("zylix-cloudflare");

pub fn fetch(req: cf.Request, env: cf.Env) !cf.Response {
    var app = zylix.server();
    app.use(cf.adapter(env));
    return app.handle(req);
}
```

#### 21.2 Vercel Edge Functions
- Edge Runtime ターゲット
- Vercel KV 統合
- Vercel Postgres (Neon 経由)
- Blob ストレージ
- Edge Config

#### 21.3 AWS Lambda
- Lambda カスタムランタイム
- Lambda@Edge サポート
- API Gateway 統合
- DynamoDB バインディング
- S3 統合
- SQS/SNS サポート

#### 21.4 Deno Deploy
- Deno WASM サポート
- Deno KV 統合
- BroadcastChannel
- Cron トリガー

#### 21.5 統一 API
- プラットフォーム非依存コード
- 環境検出
- 機能検出
- グレースフルフォールバック

```zig
// 統一 API - どのプラットフォームでも動作
const store = try zylix.kv.connect();
try store.put("key", value);
const data = try store.get("key");
```

#### 21.6 ビルドツール
- プラットフォーム固有バンドル
- WASM 最適化
- Tree shaking
- ソースマップ
- デプロイ CLI

```bash
# 各プラットフォーム向けビルド
zylix build --target=cloudflare
zylix build --target=vercel
zylix build --target=aws-lambda

# デプロイ
zylix deploy --platform=cloudflare
```

### プラットフォーム比較

| 機能 | Cloudflare | Vercel | AWS Lambda | Deno |
|------|------------|--------|------------|------|
| ランタイム | V8 Isolates | V8 Edge | Custom/WASM | V8 |
| コールドスタート | ~0ms | ~0ms | 100-500ms | ~0ms |
| CPU 制限 | 10-50ms | 25ms | 15分 | 50ms |
| メモリ | 128MB | 128MB | 10GB | 512MB |
| KV ストア | Workers KV | Vercel KV | DynamoDB | Deno KV |
| SQL | D1 | Postgres | RDS/Aurora | - |

### 成功基準

- [ ] Cloudflare Workers デプロイ
- [ ] Vercel Edge デプロイ
- [ ] AWS Lambda デプロイ
- [ ] 統一 KV/DB API
- [ ] CLI デプロイツール

---

## バージョン概要

### 完了したバージョン

#### v0.1.0 - 基盤構築 (2025-12-21)
- Virtual DOM実装
- 6プラットフォーム対応（iOS, Android, macOS, Windows, Linux, Web）
- 基本コンポーネントライブラリ（9種類）
- 言語バインディング用C ABIレイヤー

#### v0.5.0 - GitHub設定 (2025-12-21)
- コントリビューティングガイドライン
- セキュリティポリシー
- CI/CDワークフロー
- Issue/PRテンプレート

#### v0.6.0 - コア機能 (2025-12-21)
- ナビゲーションガード付きルーターモジュール
- 非同期ユーティリティ（Future/Promise）
- ホットリロード開発サーバー
- 5つのサンプルアプリケーション

#### v0.6.1 - セキュリティ修正 (2025-12-21)
- XSS防止ユーティリティ
- イベントデリゲーションパターン
- セキュアなID生成

#### v0.6.2 - プラットフォーム修正 (2025-12-21)
- 並行処理のバグ修正
- スレッドセーフティの改善
- メモリリーク防止

#### v0.7.0 - コンポーネントライブラリの拡充 (2025-12-22) ✅ 完了
- 40種類以上のコンポーネント
- フォーム、レイアウト、ナビゲーション、フィードバックコンポーネント
- プラットフォームネイティブ実装
- アクセシビリティサポート（ARIA、VoiceOver、TalkBack）
- ビジュアルリグレッションテスト

#### v0.8.1 - テスト基盤 & 言語バインディング (2025-12-23) ✅ 完了
- **watchOS サポート**:
  - Digital Crown 回転
  - サイドボタン操作
  - コンパニオンデバイス連携
- **言語バインディング**:
  - TypeScript: `@zylix/test` npm パッケージ
  - Python: `zylix-test` PyPI パッケージ
- **CI/CD**: GitHub Actions ワークフロー
- **E2E テスト**: クロスプラットフォームテストフレームワーク
- **サンプルデモ**: プラットフォーム別テストデモ

### 計画中のバージョン

#### v0.9.0 - 組み込みAI (Zylix AI)
- **組み込みLLM/VLMサポート**:
  - ローカルLLM統合（オンデバイス推論）
  - **埋め込みモデル**: Qwen3-Embedding-0.6B
  - **言語モデル**: Qwen3, Phi-3/4, Gemma, Llama 3.2
  - **VLM**: Qwen2-VL, LLaVA, PaliGemma
  - **プラットフォームバックエンド**:
    - iOS: Core ML, Metal, Apple Intelligence API
    - Android: ML Kit, NNAPI, TensorFlow Lite
    - Web/WASM: WebGPU, ONNX.js, WebNN
    - Desktop: GGML/llama.cpp, ONNX Runtime

#### v0.10.0 - デバイス機能 & ジェスチャー
- **デバイス機能**:
  - GPS/位置情報サービス
  - オーディオ/サウンド制御
  - カメラアクセス
  - センサー統合（加速度計、ジャイロスコープ）
  - クロスプラットフォーム権限管理
  - **通知**:
    - ローカル通知（全プラットフォーム）
    - リモート/プッシュ通知（iOS APNs、Android FCM）
    - 通知スケジューリングと管理
  - **バックグラウンド処理**:
    - バックグラウンドオーディオ再生（iOS/Android）
    - バックグラウンドタスク実行
    - バックグラウンドフェッチと同期
- **高度なジェスチャー**:
  - ドラッグ＆ドロップ（プラットフォーム対応）:
    - iOS/Android: 長押しでドラッグ開始
    - macOS/Windows/Linux/Web: 標準ドラッグ操作
  - ピンチズーム
  - スワイプジェスチャー
  - マルチタッチサポート

#### v0.11.0 - パフォーマンス & 最適化
- パフォーマンスプロファイリングと最適化
- バンドルサイズ削減
- メモリ使用量の最適化
- 遅延読み込みとコード分割

#### v0.12.0 - ドキュメント充実
- 完全なAPIドキュメント
- 包括的なチュートリアル
- 実用的なサンプルアプリケーション
- インタラクティブなプレイグラウンド
- ビデオチュートリアル

#### v0.13.0 - アニメーションシステム
- Lottie ベクターアニメーションサポート
- Live2D Cubism SDK 統合
- アニメーション制御API
- タイムラインベースのシーケンス

#### v0.14.0 - 3Dグラフィックスエンジン
- Three.js/Babylon.js インスパイア3Dエンジン
- プラットフォームネイティブレンダリング（Metal、Vulkan、DirectX、WebGL/WebGPU）
- 3Dモデル読み込み（glTF、OBJ、FBX）
- ライティング、シャドウ、ポストプロセス

#### v0.15.0 - ゲーム開発プラットフォーム
- PIXI.js インスパイア2Dゲームエンジン
- Matter.js ベース物理エンジン
- 完全なオーディオシステム（効果音、BGM）
- Entity-Component-System アーキテクチャ

#### v0.16.0 - ノードベースUI
- React Flow スタイルのノードコンポーネント
- ビジュアルワークフローエディタ
- パン/ズーム対応インタラクティブキャンバス
- カスタマイズ可能なノード/エッジタイプ

#### v0.17.0 - PDFサポート
- PDF生成と読み込み
- テキスト、画像、グラフィックス埋め込み
- PDF編集と結合
- フォームフィールドサポート

#### v0.18.0 - Excelサポート
- xlsxファイルの作成と読み込み
- セルの書式設定と数式
- グラフとデータ可視化
- 複数ワークシート対応

#### v0.19.0 - データベースサポート
- PostgreSQL、MySQL、SQLite、libSQL 接続
- 型安全なクエリビルダー
- コネクションプーリングとトランザクション
- クロスプラットフォームDB アクセス（WASM含む）

#### v0.20.0 - サーバーランタイム (Zylix Server)
- Hono.js インスパイア HTTP サーバー (Zig)
- 型安全な RPC（クライアント ↔ サーバー）
- ミドルウェアシステム
- サーバーサイドレンダリング

#### v0.21.0 - エッジアダプター
- Cloudflare Workers デプロイ
- Vercel Edge Functions
- AWS Lambda サポート
- 統一プラットフォーム API

### 品質哲学

> **「量より質」** - 機能は少なくても、確実に動作することを保証します。

**基本原則**:
1. **ドキュメントは真実**: 全ての文書化された機能には動作するサンプルコードが必要
2. **テスト駆動開発**: 包括的なテストなしに機能をリリースしない
3. **CodeRabbitレビュー**: 品質保証のための定期的な自動コードレビュー
4. **段階的な進歩**: v0.9.0 → v0.10.0 → v0.11.0 と各ステップで安定性を検証
5. **ユーザーファーストのドキュメント**: 公式ドキュメントは「初心者への最高の道しるべ」

---

## コントリビュート

Zylix開発への貢献ガイドラインは[CONTRIBUTING.md](../CONTRIBUTING.md)を参照してください。

## 参考資料

- [現在のPLAN.md](./PLAN.md) - 元のプロジェクト計画
- [ARCHITECTURE.md](./ARCHITECTURE.md) - システムアーキテクチャ
- [ABI.md](./ABI.md) - C ABI仕様
- [ROADMAP.md](./ROADMAP.md) - 英語版ロードマップ
